\chapter{Εισαγωγή στο ray tracing}

\begin{sloppypar}

\section{H καθολική εξίσωση υπολογισμού}
\paragraph

\section{Τι είναι το ray tracing}
\paragraph{}
	Το ray tracing είναι μια τεχνική που χρησιμοποιείται στο πεδίο των γραφικών για τη
δημιουργία συνθετικών απεικονίσεων ένος μαθηματικά μοντελοποιημένου περιβάλλοντος. Η μέθοδος
αυτή προσπαθεί να εξομοιώσει τις ιδιότητες του φωτός και την συμπεριφορά του καθώς αυτό προσπίπτει
στις διάφορες επιφάνειες ενός χώρου. Είναι εύκολο κανείς να αντιληφθεί ότι μια τέτοια εξομοίωση θα
απαιτούσε τον αυστηρό ορισμό όλων των φυσικών ιδιοτήτων του φωτός και των οντοτήτων που αλληλεπιδρούν
με αυτό καθώς και μεγάλη υπολογιστική δύναμη. Κάτι τέτοιο αν και θα οδηγούσε σε απεικονίσεις που 
χαρακτηρίζονται απο εξαιρετικά υψηλό βαθμό ρεαλισμού, εν τούτοις παρουσιάζει μεγάλες δυσκολίες που 
καθιστούν την μέθοδο πρακτικά μη υλοποιήσιμη και τουλάχιστον με την παρούσα τεχνολογία, 
υπολογιστικά αδύνατη. Το ερώτημα λοιπόν που προκύπτει αμέσως είναι, με ποιον τρόπο μπορούμε να 
απλοποιήσουμε το φυσικό μοντέλο που περιγράφει της αλληλεπιδράσεις αυτές ώστε να κάνουμε μια τέτοια 
εξομοίωση υπολογιστικά εφικτή. Η απάντηση είναι απλή. Λειτουργούμε αφαιρετικά με σκοπό την προσέγγιση 
ενός ρεαλιστικού οπτικού αποτελέσματος. Όπως θα δούμε και στη συνέχεια, στην μέθοδο του ray tracing 
κάνουμε αρκετές παραδοχές μiε σκοπό να ελαχιστοποιηθεί το υπολογιστικό αυτό κόστος. Είναι σημαντικό να
αναφερθεί ότι η μέθοδος αυτή ανήκει στην οικογένεια των photorealistc αλγορίθμων αλλά δεν εντάσσεται 
στο πλαίσιο των physical based rendering αλγορίθμων στην κλασσική του μορφή. Υπάρχουν διάφορες 
παραλλαγές της μεθόδου, όπως το path tracing που το εντάσσονται στην τελευταία κατηγορία.

\section{Ορισμοί}
\paragraph{}
	Αρχικά θα ορίσουμε μερικές βασικές έννοιες που θα χρησιμοποιήσουμε αργότερα.

\subsection{Σκηνή}
\paragraph{}
	Μια σκηνή ορίζεται ως ένα σύνολο απο αντικείμενα, πηγές φωτός και μια η περισσότερες κάμερες.
Καθένα από αυτά τα αντικείμενα κατανέμεται μέσα σε ένα καθολικό σύστημα συντεταγμένων, ένα χώρος με 
τρεις διαστάσεις: ύψος, πλάτος και βάθος. Ας υποθέσουμε ότι θέλουμε να δημιουργήσουμε μια σκηνή που 
απεικονίζει αφαιρετικά ένα διαπλανητικό σύστημα. Μια τέτοια σκηνή θα περιλάμβανε ένα σύνολο απο 
σφαίρες ( πλανήτες ), μια η περισσότερες πηγές φωτός ( ήλιος )ι και κάποιες κάμερες που θα όριζαν 
από ποιο σημείο του χώρου παρατηρούμε τη σκηνή.

\subsection{Αντικείμενο}
\paragraph{}
	Γενικά ένα αντικείμενο μπορεί να είναι οποιαδήποτε οντότητα με υλική υπόσταση. Παραδείγματος χάρη: 
μια λάμπα, ένα ποτήρι με νερό, ένας πλανήτης, ένα σύννεφο. Ένας raytracer μπορεί να επεξεργαστεί μόνο 
αντικείμενα που περιγράφονται με μαθηματικό τρόπο, όπως σφαίρες, κύλινδρους, πολύγωνα, κώνους κ.λ.π., 
εντούτοις είναι εφικτό να συνδυάσει κανείς αυτά τα θεμελιώδη μαθηματικά σχήματα για να δημιουργήσει 
πολύπλοκα αντικείμενα, όπως ζώα, διαστημόπλοια, συστήματα σωματιδίων (particle systems) κ.λ.π.

\subsection{Πηγές φωτός}
\paragraph{}
	Οι πηγές φωτός, εκμπέμπουν φως και όπως ακριβώς και τα αντικείμενα, μπορούν να τοποθετηθούν σε
οποιοδήποτε σημείο στο χώρο. Επιπλέον μπορούν και οι ίδιες είναι αντικέιμενα (π.χ. μια λάμπα). Είναι βασικό 
συστατικό μιας σκηνής καθώς χωρίς πηγές φωτός, δεν θα υπάρχουν σωματίδια φωτονίων για να ακολουθήσουμε και 
να δημιουργηθεί η εικόνα.

\subsection{Κάμερα}
\paragraph{}
	H κάμερα περιγράφει το σημείο από το οποίο παρατηρούμε μια σκηνή. Θα περιγράψουμε το μοντέλο της pinhole
κάμερας. Μια τετοια κάμερα κατασκευάζεται αν τοποθετήσουμε φωτογραφικό φιλμ στο πίσω μέρος ενός φωτοστεγανού κουτιού 
και δημιουργήσουμε μια μικρή τρύπα στην απέναντι επιφάνεια. Εξ ορισμού αυτή η τρύπα είναι καλυμμένη ώστε να 
εμποδίζει το φως από το να εισέλθει στο κουτί. Για να πάρουμε μια φωτογραφία, αφαιρούμε το κάλυμμα της τρύπας 
για ένα προκαθορισμένο χρονικό διάστημα, κρατώντας την κάμερα σε σταθερό σημείο. Ο λόγος για τον οποίο δημιουργούμε 
τη τρύπα, είναι διότι δεν είναι επιθυμητή η υπερβολική έκθεση του φωτογραφικού φιλμ στις εισερχόμενες ακτίνες φωτός. 
Έτσι επιτρέπουμε μόνο σε μικρές δέσμες φωτός να εισέλθουν στο κουτί και να χτυπήσουν το φιλμ. Επιπλέον από κάθε 
σημείο, κάθε αντικειμένου στο χώρο, το φως μπορεί να φτάσει στο φιλμ μόνο από μια κατεύθυνση. Αν η διάμετρος 
της τρύπας μεγαλώσει τότε η φωτογραφία θα γίνει πιο θολή. Στο ray tracing κάνουμε έναν μετασχηματισμό στο μοντέλο
αυτό, για πρακτικούς λόγους. Το φιλμ, το οποίο εφ'εξής θα ονομάζουμε οθόνη, μετατοπίζεται μπροστά απο την τρύπα η 
οποία πλέον θα αντιπροσωπεύει το μάτι του παρατηρητή. Σε κάθε εικονοστοιχείο της οθόνης θα αντιστοιχεί μια ένταση
του εισερχόμενου φωτός. Τους λόγους για αυτό το μετασχηματισμό, θα τους εξηγήσουμε στη συνέχεια, όταν περιγράφουμε
τον βασικό αλγόριθμο.

\subsection{Ακτίνα φωτός}
\paragraph{}
	Μια ακτίνα φωτός είναι μια λεπτή ευθεία γραμμή που ξεκινάει από ένα σημείο στο χώρο και επεκτείνεται προς 
μια κατεύθυνση (π.χ. απο το μάτι του παρατηρητή, με κατεύθυνση προς ένα εικονοστοιχείο της οθόνης). Οι ακτίνες αυτές 
διαμερίζονται σε έναν αριθμό από διαφορετικά είδη που αναλύονται στη συνέχεια και εξυπηρετούν διαφορετικό σκοπό η κάθε μια.

\section{Ο βασικός αλγόριθμος}
\paragraph{}




\begin{eqnarray}
CIF: \hspace*{5mm}F_0^j(a) &=& \frac{1}{2\pi \iota} \oint_{\gamma} \frac{F_0^j(z)}{z - a} dz
\end{eqnarray}

\end{sloppypar}

% ------------------------------------------------------------------------
